# NLPFinalProject

This project is based on Python2(asking) and Python3(answering), implemented basic question generation and question answering. For question answering we currently support Yes/No, what, who, where, when, how, whom, why question implemented by stanford corenlp. Becuase the package we're using for reference resolution uses a deterministic method and after we experimented with it, the accuracy is just unsatisfying so that we don't support coreference resolution currently. For question answering, given a question, we search for similar questions that are generated by our question generation module. If there is such a question, we output the answer that is recorded.

# Instructions

1. Usage:
$cd src    
./ask article.txt num_questions   
./answer article.txt questions.txt  [NOT RECOMMENDED]

For answering, it is recommanded to put data in ./data [See section 2]

Recommended way: in src folder

python answer.py set1/a1.txt question_file

2. Path and directory:

Recommended way of running:

  If the data is  ../data/set1/a1.txt
  Run:  $./ask set1/a1.txt 30
  Run:  $python answer.py set1/a1.txt question.txt

  For hidden test data, just create ../data/set5/ and put data in it. It will run properly


Not recommended way:

  If the data is ./a1.txt
  Run: $python answer.py a1.txt question.txt


3. Environment setup:
To run our program, you need to make sure you've installed stanford corenlp and Pattern package.
This project is based on both Python2 and Python3, so make sure you have both python versions installed.
And the java version should be 8, if your system's java version is 9+, please downgrade your version, or replace the corenlp.py in our installed package by the corenlp.py in this repo.  

To successfully run stanford corenlp, please first download stanford corenlp from the link https://stanfordnlp.github.io/CoreNLP/. Put it in directory you like.  
Then in order to run it in Python environment, please install the following package which wrap the stanford corenlp server: 

pip install stanfordcorenlp   

After you successfully install it, you can use it by declaring like: 

from stanfordcorenlp import StanfordCoreNLP   
nlp=StanfordCoreNLP("the_path_you_put_your_stanford_corenlp_+stanford-corenlp-full-2018-02-27") 

Detailed insturction can be referred at https://github.com/Lynten/stanford-corenlp.    

The program will connect to "http://localhost:9000" for Stanford CoreNLP service, so we MUST START STANFORD CORE-NLP LOCAL SERVER before using our ask and answer modules.

# Additional dependencies for Answering

Answering:

MyIndexer.java and MyRetriever.java


A simple indexer and retriever based on Lucene-6.6.0.

I write this code for my Capstone project. Some other member of my capstone team might also use this code for NLP.

As you can see, this code is really simple. Almost an API.


USAGE:
  compile: javac -Xlint -cp ".:lucene-6.6.0/*" -g *.java
  run:     java -cp ".:lucene-6.6.0/*" MyIndexer documentDirectoryName destinationIndexDirectory
           java -cp ".:lucene-6.6.0/*" MyRetriever queryfile indexDirectory hitsPerPage
